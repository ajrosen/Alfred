<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>org.mlfs.corp.otp</string>
	<key>category</key>
	<string>MLFS</string>
	<key>connections</key>
	<dict>
		<key>0CF76333-BDFF-4132-88FB-2FBB23F88454</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>64214BDB-E065-4B35-A29E-8AA91D8F1D49</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>CC1A8D3B-D1C4-419F-AA03-A11587F294E8</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>43DAB77B-05D2-434E-8CAA-48E72B83B93E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>A9F6EF3F-B756-4A72-9DA7-1F66C4E95855</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>5A9EEE5E-A715-4739-80EC-7AD64C7C68E5</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>E3DF504D-AD30-4467-B0F4-880B34AD597A</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>1817F5D4-7D78-4D36-AAE9-3DB72736DBDA</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>13156BE1-1556-41E6-A6CD-B6A6DB9DC0E1</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>61AB039D-7907-4A33-ACFA-C4A158D4DA4A</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>1817F5D4-7D78-4D36-AAE9-3DB72736DBDA</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>4E800D09-582B-41F0-BE29-82C9F05B77C6</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>43DAB77B-05D2-434E-8CAA-48E72B83B93E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>DC1BF719-FE89-46ED-87EB-A7305298DB53</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>53772A28-46EA-43E4-9F52-8B255707C37F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>5633A537-AF0E-43E6-B25C-ABF9B58AD678</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>541A4E11-C97B-4E88-A291-A49BFDE5D69D</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>0CF76333-BDFF-4132-88FB-2FBB23F88454</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>5E06FC9C-3BBF-4A1F-970D-97225C405F3A</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>3C984515-ECF1-4B30-9991-ED50F54A76FD</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>5E7AAB9D-A54F-4762-AAC9-3B9C1B95D203</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>72CF9B77-5222-4D38-BE56-2EC0540CFE16</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>64214BDB-E065-4B35-A29E-8AA91D8F1D49</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>4E800D09-582B-41F0-BE29-82C9F05B77C6</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>66E953C1-C46B-4A1E-9F0C-F356F3E6360B</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>72CF9B77-5222-4D38-BE56-2EC0540CFE16</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>68A6D293-EEDA-4D3F-A98F-B86ACBE4C857</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>27537F20-C84B-4F7A-B745-1EADCEB39F6E</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string>Copy key to clipboard</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>DDAFECB2-8EB8-4350-9D10-1EBE0DB95156</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>5E7AAB9D-A54F-4762-AAC9-3B9C1B95D203</string>
				<key>modifiers</key>
				<integer>262144</integer>
				<key>modifiersubtext</key>
				<string>Don't automatically paste to frontmost app</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>66E953C1-C46B-4A1E-9F0C-F356F3E6360B</string>
				<key>modifiers</key>
				<integer>393216</integer>
				<key>modifiersubtext</key>
				<string>Automatically paste to frontmost app and send Return</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>9B6BBDE1-0434-4C11-A5A6-30CB9B252A6F</string>
				<key>modifiers</key>
				<integer>131072</integer>
				<key>modifiersubtext</key>
				<string>Show large type</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>94992E3A-13B1-41F5-B150-354A29721979</string>
				<key>modifiers</key>
				<integer>1048576</integer>
				<key>modifiersubtext</key>
				<string>Show QR code</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>FA371603-80F2-447C-8F89-E4A08DCE65E1</string>
				<key>modifiers</key>
				<integer>8388608</integer>
				<key>modifiersubtext</key>
				<string>Delete from database</string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>72CF9B77-5222-4D38-BE56-2EC0540CFE16</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>541A4E11-C97B-4E88-A291-A49BFDE5D69D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>75F40964-7CB5-4857-8CE1-16BC97E86ACC</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>53772A28-46EA-43E4-9F52-8B255707C37F</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>94992E3A-13B1-41F5-B150-354A29721979</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>98F5B36D-1523-4540-86FB-303FC697BC0E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>98F5B36D-1523-4540-86FB-303FC697BC0E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>19B95A03-0F67-4287-A78D-081425983A00</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>9B6BBDE1-0434-4C11-A5A6-30CB9B252A6F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>72CF9B77-5222-4D38-BE56-2EC0540CFE16</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>B447C4C7-D00C-4476-A14C-A26D3E17AA39</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>C67B4149-714B-4133-9DD6-7EBA8260D157</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>C67B4149-714B-4133-9DD6-7EBA8260D157</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>13156BE1-1556-41E6-A6CD-B6A6DB9DC0E1</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D4677655-6E68-442A-A607-ED70129CE006</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>5E06FC9C-3BBF-4A1F-970D-97225C405F3A</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>DDAFECB2-8EB8-4350-9D10-1EBE0DB95156</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>75F40964-7CB5-4857-8CE1-16BC97E86ACC</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>BD7BFDCC-28C9-41C2-A166-1B50B3EB098A</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>B447C4C7-D00C-4476-A14C-A26D3E17AA39</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>076C5249-ED4B-4F39-9AFC-F719624466B1</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>D4677655-6E68-442A-A607-ED70129CE006</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>sourceoutputuid</key>
				<string>797AFBE0-E5BA-43D5-9999-75322CD1C18A</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>72CF9B77-5222-4D38-BE56-2EC0540CFE16</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>FA371603-80F2-447C-8F89-E4A08DCE65E1</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>CA70CBB4-5EB0-479E-88F7-1A363B4953D8</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>Andy Rosen</string>
	<key>description</key>
	<string>Manage virtual MFA devices</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>OTP</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>applescript</key>
				<string>on alfred_script(q)
	tell application id "com.runningwithcrayons.Alfred" to set configuration "db" to value q &amp; "otp.db" in workflow {const:alfred_workflow_bundleid}
end alfred_script</string>
				<key>cachescript</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.applescript</string>
			<key>uid</key>
			<string>53772A28-46EA-43E4-9F52-8B255707C37F</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<false/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>27537F20-C84B-4F7A-B745-1EADCEB39F6E</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>applescript</key>
				<string>on alfred_script(q)
	return posix path of (choose folder with prompt "Choose folder to store OTP database")
end alfred_script</string>
				<key>cachescript</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.applescript</string>
			<key>uid</key>
			<string>75F40964-7CB5-4857-8CE1-16BC97E86ACC</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>externaltriggerid</key>
				<string>create</string>
				<key>passinputasargument</key>
				<true/>
				<key>passvariables</key>
				<true/>
				<key>workflowbundleid</key>
				<string>self</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.callexternaltrigger</string>
			<key>uid</key>
			<string>5633A537-AF0E-43E6-B25C-ABF9B58AD678</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>init_otp.sh</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>inboundconfig</key>
			<dict>
				<key>externalid</key>
				<string>create</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>B447C4C7-D00C-4476-A14C-A26D3E17AA39</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<false/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string>{var:db}</string>
				<key>title</key>
				<string>{query}</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>13156BE1-1556-41E6-A6CD-B6A6DB9DC0E1</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>externaltriggerid</key>
				<string>add</string>
				<key>passinputasargument</key>
				<true/>
				<key>passvariables</key>
				<true/>
				<key>workflowbundleid</key>
				<string>self</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.callexternaltrigger</string>
			<key>uid</key>
			<string>61AB039D-7907-4A33-ACFA-C4A158D4DA4A</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>conditions</key>
				<array>
					<dict>
						<key>inputstring</key>
						<string></string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>config</string>
						<key>outputlabel</key>
						<string>config</string>
						<key>uid</key>
						<string>BD7BFDCC-28C9-41C2-A166-1B50B3EB098A</string>
					</dict>
					<dict>
						<key>inputstring</key>
						<string></string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>new</string>
						<key>outputlabel</key>
						<string>new</string>
						<key>uid</key>
						<string>076C5249-ED4B-4F39-9AFC-F719624466B1</string>
					</dict>
					<dict>
						<key>inputstring</key>
						<string></string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>add</string>
						<key>outputlabel</key>
						<string>add</string>
						<key>uid</key>
						<string>797AFBE0-E5BA-43D5-9999-75322CD1C18A</string>
					</dict>
					<dict>
						<key>inputstring</key>
						<string></string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>chmod</string>
						<key>outputlabel</key>
						<string>chmod</string>
						<key>uid</key>
						<string>32F90CBD-5C45-4B03-9121-1EBE34AA9712</string>
					</dict>
				</array>
				<key>elselabel</key>
				<string>else</string>
				<key>hideelse</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.conditional</string>
			<key>uid</key>
			<string>DDAFECB2-8EB8-4350-9D10-1EBE0DB95156</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.transform</string>
			<key>uid</key>
			<string>C67B4149-714B-4133-9DD6-7EBA8260D157</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>68</integer>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>add_otp.applescript</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>inboundconfig</key>
			<dict>
				<key>externalid</key>
				<string>add</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>D4677655-6E68-442A-A607-ED70129CE006</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>externaltriggerid</key>
				<string>get</string>
				<key>passinputasargument</key>
				<true/>
				<key>passvariables</key>
				<true/>
				<key>workflowbundleid</key>
				<string>self</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.callexternaltrigger</string>
			<key>uid</key>
			<string>3C984515-ECF1-4B30-9991-ED50F54A76FD</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<true/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string>{query}</string>
				<key>title</key>
				<string>Item added</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>5E06FC9C-3BBF-4A1F-970D-97225C405F3A</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<false/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>64214BDB-E065-4B35-A29E-8AA91D8F1D49</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>passthroughargument</key>
				<true/>
				<key>variables</key>
				<dict>
					<key>mod</key>
					<string>control</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>5E7AAB9D-A54F-4762-AAC9-3B9C1B95D203</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>export PATH=/usr/local/bin:$PATH

export ITEM=$(sqlite3 ${db} "select item from totp where secret_key = '${1}'")

oathtool -b --totp $1</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>get_otp.sh</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>inboundconfig</key>
			<dict>
				<key>externalid</key>
				<string>get</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>72CF9B77-5222-4D38-BE56-2EC0540CFE16</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>alfredfiltersresultsmatchmode</key>
				<integer>2</integer>
				<key>argumenttreatemptyqueryasnil</key>
				<false/>
				<key>argumenttrimmode</key>
				<integer>0</integer>
				<key>argumenttype</key>
				<integer>1</integer>
				<key>escaping</key>
				<integer>0</integer>
				<key>keyword</key>
				<string>otp</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<true/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Fetching virtual MFA devices</string>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>list_otp.sh</string>
				<key>subtext</key>
				<string>Manage virtual MFA devices</string>
				<key>title</key>
				<string>OTP</string>
				<key>type</key>
				<integer>8</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>inboundconfig</key>
			<dict>
				<key>inputmode</key>
				<integer>1</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>68A6D293-EEDA-4D3F-A98F-B86ACBE4C857</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.transform</string>
			<key>uid</key>
			<string>541A4E11-C97B-4E88-A291-A49BFDE5D69D</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>passthroughargument</key>
				<true/>
				<key>variables</key>
				<dict>
					<key>mod</key>
					<string>controlshift</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>66E953C1-C46B-4A1E-9F0C-F356F3E6360B</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<true/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>43DAB77B-05D2-434E-8CAA-48E72B83B93E</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>0</integer>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>return.applescript</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>DC1BF719-FE89-46ED-87EB-A7305298DB53</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>conditions</key>
				<array>
					<dict>
						<key>inputstring</key>
						<string>{var:mod}</string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>control</string>
						<key>outputlabel</key>
						<string>paste</string>
						<key>uid</key>
						<string>CC1A8D3B-D1C4-419F-AA03-A11587F294E8</string>
					</dict>
					<dict>
						<key>inputstring</key>
						<string>{var:mod}</string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>controlshift</string>
						<key>outputlabel</key>
						<string>+ return</string>
						<key>uid</key>
						<string>A9F6EF3F-B756-4A72-9DA7-1F66C4E95855</string>
					</dict>
					<dict>
						<key>inputstring</key>
						<string>{var:mod}</string>
						<key>matchcasesensitive</key>
						<false/>
						<key>matchmode</key>
						<integer>0</integer>
						<key>matchstring</key>
						<string>shift</string>
						<key>outputlabel</key>
						<string>large</string>
						<key>uid</key>
						<string>E3DF504D-AD30-4467-B0F4-880B34AD597A</string>
					</dict>
				</array>
				<key>elselabel</key>
				<string>else</string>
				<key>hideelse</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.conditional</string>
			<key>uid</key>
			<string>0CF76333-BDFF-4132-88FB-2FBB23F88454</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>passthroughargument</key>
				<true/>
				<key>variables</key>
				<dict>
					<key>mod</key>
					<string>shift</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>9B6BBDE1-0434-4C11-A5A6-30CB9B252A6F</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alignment</key>
				<integer>0</integer>
				<key>backgroundcolor</key>
				<string></string>
				<key>fadespeed</key>
				<integer>0</integer>
				<key>fillmode</key>
				<integer>0</integer>
				<key>font</key>
				<string></string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>largetypetext</key>
				<string>{query}</string>
				<key>textcolor</key>
				<string></string>
				<key>wrapat</key>
				<integer>50</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.largetype</string>
			<key>uid</key>
			<string>5A9EEE5E-A715-4739-80EC-7AD64C7C68E5</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<true/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string>{query}</string>
				<key>title</key>
				<string>{const:alfred_workflow_name}</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>4E800D09-582B-41F0-BE29-82C9F05B77C6</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alignment</key>
				<integer>2</integer>
				<key>backgroundcolor</key>
				<string>#000000FF</string>
				<key>fadespeed</key>
				<integer>0</integer>
				<key>fillmode</key>
				<integer>1</integer>
				<key>font</key>
				<string>Andale Mono</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>largetypetext</key>
				<string>{query}</string>
				<key>textcolor</key>
				<string></string>
				<key>wrapat</key>
				<integer>400</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.largetype</string>
			<key>uid</key>
			<string>19B95A03-0F67-4287-A78D-081425983A00</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>102</integer>
				<key>script</key>
				<string>export PATH=/usr/local/bin:$PATH

KEY=$(sqlite3 ${db} "select replace(otpauth,' ','%20') from totp where secret_key = '${1}'")
ITEM=$(sqlite3 ${db} "select item from totp where secret_key = '${1}'")

echo ${ITEM}
echo
qrencode -o - -t asciii "${KEY}"</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>show_qr.sh</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>98F5B36D-1523-4540-86FB-303FC697BC0E</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>passthroughargument</key>
				<true/>
				<key>variables</key>
				<dict>
					<key>mod</key>
					<string>shift</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>94992E3A-13B1-41F5-B150-354A29721979</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<true/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>1817F5D4-7D78-4D36-AAE9-3DB72736DBDA</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>0</integer>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>delete_otp.sh</string>
				<key>type</key>
				<integer>8</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>FA371603-80F2-447C-8F89-E4A08DCE65E1</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<true/>
				<key>removeextension</key>
				<false/>
				<key>text</key>
				<string></string>
				<key>title</key>
				<string>{query}</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>CA70CBB4-5EB0-479E-88F7-1A363B4953D8</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>Like [Authy](https://authy.com), [OTP Auth](https://cooperrs.de/otpauth.html), [Okta Verify](https://help.okta.com/en/prod/end-user/Content/Topics/end-user/ov-overview.htm), etc., but using your Mac and a SQLite database.


### YOU MUST PROTECT THE DATABASE

The data stored is as sensitive as your passwords.  If someone gains access to your database they can create copies of every virtual MFA device you have stored.

I recommend storing the database locally, or using a cloud storage service with end-to-end encryption.  Eg., [Sync.com](https://www.sync.com/?_sync_refer=e50112).


### Requirements

OTP relies on a few packages to generate tokens, import QR codes, and generate QR codes

`brew install oath-toolkit zbar qrencode`


### Adding a device

Virtual MFA devices typically have two fields: Issuer (the provider or service the device is associated with) and Account (usually the username you use to login).

OTP adds an (optional) explicit ***Username*** field.  This can be useful when you have multiple logins to the same account.  Eg., an AWS account where you have separate MFA devices for different IAM users.

You can add a device with its QR code or with its secret key.

- To use a QR code, either copy the image to the clipboard or save the image to a file.  When OTP finds a valid QR code in the clipboard (or you import from a file) it will fill in the form fields for you.

- When a provider shows the QR code there should be an option to show the secret key instead.  Copy and paste that into the form when prompted.


### Getting a token

OTP will show the current token under each of your devices.  Selecting one will copy the code to the clipboard.

- Ctrl - Don't automatically paste the code to the frontmost app
- Shift - Show the code using Large Type
- Ctrl + Shift - Automatically paste the code to the frontmost app and "press" return
- Cmd - Show the MFA device's QR code (to scan into your favorite phone app)
- Fn - Delete the MFA device from the database

OTP will also search recent Messages for authentication codes.</string>
	<key>uidata</key>
	<dict>
		<key>0CF76333-BDFF-4132-88FB-2FBB23F88454</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>600</real>
			<key>ypos</key>
			<real>590</real>
		</dict>
		<key>13156BE1-1556-41E6-A6CD-B6A6DB9DC0E1</key>
		<dict>
			<key>colorindex</key>
			<integer>5</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>150</real>
		</dict>
		<key>1817F5D4-7D78-4D36-AAE9-3DB72736DBDA</key>
		<dict>
			<key>colorindex</key>
			<integer>2</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>780</real>
		</dict>
		<key>19B95A03-0F67-4287-A78D-081425983A00</key>
		<dict>
			<key>colorindex</key>
			<integer>7</integer>
			<key>xpos</key>
			<real>565</real>
			<key>ypos</key>
			<real>720</real>
		</dict>
		<key>27537F20-C84B-4F7A-B745-1EADCEB39F6E</key>
		<dict>
			<key>xpos</key>
			<real>215</real>
			<key>ypos</key>
			<real>15</real>
		</dict>
		<key>3C984515-ECF1-4B30-9991-ED50F54A76FD</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>300</real>
		</dict>
		<key>43DAB77B-05D2-434E-8CAA-48E72B83B93E</key>
		<dict>
			<key>colorindex</key>
			<integer>10</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>540</real>
		</dict>
		<key>4E800D09-582B-41F0-BE29-82C9F05B77C6</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>890</real>
			<key>ypos</key>
			<real>690</real>
		</dict>
		<key>53772A28-46EA-43E4-9F52-8B255707C37F</key>
		<dict>
			<key>colorindex</key>
			<integer>1</integer>
			<key>note</key>
			<string>set {var:db}</string>
			<key>xpos</key>
			<real>565</real>
			<key>ypos</key>
			<real>15</real>
		</dict>
		<key>541A4E11-C97B-4E88-A291-A49BFDE5D69D</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>550</real>
			<key>ypos</key>
			<real>510</real>
		</dict>
		<key>5633A537-AF0E-43E6-B25C-ABF9B58AD678</key>
		<dict>
			<key>colorindex</key>
			<integer>5</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>15</real>
		</dict>
		<key>5A9EEE5E-A715-4739-80EC-7AD64C7C68E5</key>
		<dict>
			<key>colorindex</key>
			<integer>12</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>660</real>
		</dict>
		<key>5E06FC9C-3BBF-4A1F-970D-97225C405F3A</key>
		<dict>
			<key>colorindex</key>
			<integer>3</integer>
			<key>xpos</key>
			<real>565</real>
			<key>ypos</key>
			<real>300</real>
		</dict>
		<key>5E7AAB9D-A54F-4762-AAC9-3B9C1B95D203</key>
		<dict>
			<key>colorindex</key>
			<integer>2</integer>
			<key>note</key>
			<string>Don't paste</string>
			<key>xpos</key>
			<real>255</real>
			<key>ypos</key>
			<real>420</real>
		</dict>
		<key>61AB039D-7907-4A33-ACFA-C4A158D4DA4A</key>
		<dict>
			<key>colorindex</key>
			<integer>3</integer>
			<key>xpos</key>
			<real>890</real>
			<key>ypos</key>
			<real>150</real>
		</dict>
		<key>64214BDB-E065-4B35-A29E-8AA91D8F1D49</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>725</real>
			<key>ypos</key>
			<real>420</real>
		</dict>
		<key>66E953C1-C46B-4A1E-9F0C-F356F3E6360B</key>
		<dict>
			<key>colorindex</key>
			<integer>10</integer>
			<key>note</key>
			<string>Paste + return</string>
			<key>xpos</key>
			<real>255</real>
			<key>ypos</key>
			<real>510</real>
		</dict>
		<key>68A6D293-EEDA-4D3F-A98F-B86ACBE4C857</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>30</real>
			<key>ypos</key>
			<real>480</real>
		</dict>
		<key>72CF9B77-5222-4D38-BE56-2EC0540CFE16</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>note</key>
			<string>oathtool</string>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>480</real>
		</dict>
		<key>75F40964-7CB5-4857-8CE1-16BC97E86ACC</key>
		<dict>
			<key>colorindex</key>
			<integer>1</integer>
			<key>note</key>
			<string>choose folder</string>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>15</real>
		</dict>
		<key>94992E3A-13B1-41F5-B150-354A29721979</key>
		<dict>
			<key>colorindex</key>
			<integer>7</integer>
			<key>note</key>
			<string>QR</string>
			<key>xpos</key>
			<real>255</real>
			<key>ypos</key>
			<real>750</real>
		</dict>
		<key>98F5B36D-1523-4540-86FB-303FC697BC0E</key>
		<dict>
			<key>colorindex</key>
			<integer>7</integer>
			<key>note</key>
			<string>qrencode</string>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>720</real>
		</dict>
		<key>9B6BBDE1-0434-4C11-A5A6-30CB9B252A6F</key>
		<dict>
			<key>colorindex</key>
			<integer>12</integer>
			<key>note</key>
			<string>Large</string>
			<key>xpos</key>
			<real>255</real>
			<key>ypos</key>
			<real>600</real>
		</dict>
		<key>B447C4C7-D00C-4476-A14C-A26D3E17AA39</key>
		<dict>
			<key>colorindex</key>
			<integer>5</integer>
			<key>note</key>
			<string>create db</string>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>150</real>
		</dict>
		<key>C67B4149-714B-4133-9DD6-7EBA8260D157</key>
		<dict>
			<key>colorindex</key>
			<integer>5</integer>
			<key>xpos</key>
			<real>600</real>
			<key>ypos</key>
			<real>180</real>
		</dict>
		<key>CA70CBB4-5EB0-479E-88F7-1A363B4953D8</key>
		<dict>
			<key>colorindex</key>
			<integer>1</integer>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>855</real>
		</dict>
		<key>D4677655-6E68-442A-A607-ED70129CE006</key>
		<dict>
			<key>colorindex</key>
			<integer>3</integer>
			<key>note</key>
			<string>add device</string>
			<key>xpos</key>
			<real>410</real>
			<key>ypos</key>
			<real>300</real>
		</dict>
		<key>DC1BF719-FE89-46ED-87EB-A7305298DB53</key>
		<dict>
			<key>colorindex</key>
			<integer>10</integer>
			<key>note</key>
			<string>&lt;return&gt;</string>
			<key>xpos</key>
			<real>890</real>
			<key>ypos</key>
			<real>540</real>
		</dict>
		<key>DDAFECB2-8EB8-4350-9D10-1EBE0DB95156</key>
		<dict>
			<key>colorindex</key>
			<integer>8</integer>
			<key>xpos</key>
			<real>245</real>
			<key>ypos</key>
			<real>155</real>
		</dict>
		<key>FA371603-80F2-447C-8F89-E4A08DCE65E1</key>
		<dict>
			<key>colorindex</key>
			<integer>1</integer>
			<key>note</key>
			<string>delete device</string>
			<key>xpos</key>
			<real>215</real>
			<key>ypos</key>
			<real>855</real>
		</dict>
	</dict>
	<key>userconfigurationconfig</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>~/.otp.db</string>
				<key>filtermode</key>
				<integer>2</integer>
				<key>placeholder</key>
				<string>Choose OTP database file</string>
				<key>required</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Location of OTP database</string>
			<key>label</key>
			<string>Path to OTP database</string>
			<key>type</key>
			<string>filepicker</string>
			<key>variable</key>
			<string>OTP</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>defaultvalue</key>
				<integer>10</integer>
				<key>markercount</key>
				<integer>13</integer>
				<key>maxvalue</key>
				<integer>60</integer>
				<key>minvalue</key>
				<integer>1</integer>
				<key>onlystoponmarkers</key>
				<false/>
				<key>showmarkers</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Only search for codes sent by SMS no older than this many minutes.</string>
			<key>label</key>
			<string>Maximum age of SMS codes</string>
			<key>type</key>
			<string>slider</string>
			<key>variable</key>
			<string>MAX_AGE</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>/opt/homebrew/bin/oathtool</string>
				<key>filtermode</key>
				<integer>2</integer>
				<key>placeholder</key>
				<string>/opt/homebrew/bin/oathtool</string>
				<key>required</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Path to the oathtool program.  Part of the oath-toolkit package.</string>
			<key>label</key>
			<string>Location of oathtool</string>
			<key>type</key>
			<string>filepicker</string>
			<key>variable</key>
			<string>OATHTOOL</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>/opt/homebrew/bin/zbarimg</string>
				<key>filtermode</key>
				<integer>2</integer>
				<key>placeholder</key>
				<string>/opt/homebrew/bin/zbarimg</string>
				<key>required</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Path to the zbarimg program.  Part of the zbar package.</string>
			<key>label</key>
			<string>Location of zbarimg</string>
			<key>type</key>
			<string>filepicker</string>
			<key>variable</key>
			<string>ZBARIMG</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>/opt/homebrew/bin/qrencode</string>
				<key>filtermode</key>
				<integer>2</integer>
				<key>placeholder</key>
				<string>/opt/homebrew/bin/qrencode</string>
				<key>required</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Path to the qrencode program.  Part of the qrencode package.</string>
			<key>label</key>
			<string>Location of qrencode</string>
			<key>type</key>
			<string>filepicker</string>
			<key>variable</key>
			<string>QRENCODE</string>
		</dict>
	</array>
	<key>version</key>
	<string>2.1.0</string>
	<key>webaddress</key>
	<string>https://github.com/ajrosen/Alfred</string>
</dict>
</plist>
